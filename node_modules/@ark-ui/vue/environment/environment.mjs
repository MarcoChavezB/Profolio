import { defineComponent, ref, computed, createVNode, Fragment } from 'vue';
import { EnvironmentProvider } from './environment-context.mjs';

const Environment = /* @__PURE__ */ defineComponent((props, {
  slots
}) => {
  const elRef = ref();
  const currentEnv = computed(() => () => props.value ?? elRef.value?.ownerDocument ?? document);
  const showSpan = !props.value;
  EnvironmentProvider(currentEnv.value);
  return () => createVNode(Fragment, null, [slots.default?.(), showSpan ? createVNode("span", {
    "hidden": true,
    "ref": elRef
  }, null) : null]);
}, {
  name: 'Environment',
  props: {
    value: Object
  }
});

export { Environment };
